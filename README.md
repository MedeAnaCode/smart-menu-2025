#Smart Menu

Pet-проект по планированию меню на неделю. Сделан с использованием React.

На данный момент сделано:
1. Главная страница на html, scss, js, адаптивная вёрстка.
2. Страница с рецептами на React, но не адаптивная. Есть связь с сервером, работа с БД Postgres(sequelize).
3. Обмен данными между сервером и фронтендом (express, cors, concurrently).

Ближайшие основные цели:
1. CRUDS.

Микрозадачи:
1. hot-reload
2. Проверить и правильно сделать подсветку активных ссылок в меню.
3. Настроить, чтобы pgAdmin запускался в docker.

## Docker usage

Проект содержит Dockerfile для фронтенда и бэкенда, а также `docker-compose.yml` для их совместного запуска. При сборке фронтенд собирается внутри контейнера и не требует заранее подготовленной папки `dist`.

Чтобы собрать и запустить все сервисы:

```bash
docker compose up --build
```

После этого приложение будет доступно на `http://localhost:3000`.

### Повторная сборка

Docker кеширует результаты предыдущих слоёв. Это ускоряет сборку, но может
привести к тому, что при изменении исходников вы будете видеть старый `dist`.
Чтобы пересобрать только ваши сервисы, не перекачивая базовые образы, выполните:

```bash
docker compose build
docker compose up
```

Так Docker использует кеш для слоёв вроде `node:20-alpine` и `nginx:alpine`, но
запускает `npm run build` заново, если изменилась папка `src` или `public`.

Для разработки можно смонтировать локальную папку `dist` прямо в контейнер Nginx.
Тогда после команды

```bash
npm run build
```

достаточно перезапустить `docker compose up`, и новые файлы будут сразу
отдаваться сервером без пересборки образа.
