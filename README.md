#Smart Menu

Pet-проект по планированию меню на неделю. Сделан с использованием React.

На данный момент сделано:
1. Главная страница на html, scss, js, адаптивная вёрстка.
2. Страница с рецептами на React, но не адаптивная. Есть связь с сервером, работа с БД Postgres(sequelize).
3. Обмен данными между сервером и фронтендом (express, cors, concurrently).

Ближайшие основные цели:
1. CRUDS.

Микрозадачи:
1. hot-reload
2. Проверить и правильно сделать подсветку активных ссылок в меню.
3. Настроить, чтобы pgAdmin запускался в docker.

## Docker usage

Проект содержит Dockerfile для фронтенда и бэкенда и конфигурацию `docker-compose.yml` для их одновременного запуска. Сборка проходит целиком внутри контейнеров, поэтому не нужна локальная папка `dist` или `node_modules`.

Чтобы собрать и запустить все сервисы:

```bash
docker compose up --build
```

После этого приложение будет доступно на `http://localhost:3000`.

### Повторная сборка

Docker кеширует результаты предыдущих слоёв. Это ускоряет сборку, но иногда
приводит к тому, что изменения в коде не попадают в образ. Чтобы пересобрать
только собственные сервисы, не загружая снова базовые образы, выполните:

```bash
docker compose build
docker compose up
```

Так Docker использует кеш для базовых слоёв (`node:20-alpine`, `nginx:alpine`),
но запускает `npm run build` заново, если изменилась папка `src` или `public`.

### Полная очистка

Если есть подозрение, что данные или образы устарели, можно всё
пересобрать без кеша и удалить том с базой:

```bash
docker compose down -v & docker compose build --no-cache & docker compose up
```

Первая команда остановит контейнеры и удалит volume с Postgres,
вторая соберёт образы заново, а третья запустит проект с нуля.
